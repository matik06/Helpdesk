<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui"           
                xmlns:ui="http://java.sun.com/jsf/facelets"
                template="/templates/main.xhtml"

                xmlns:utils="http://java.sun.com/jsf/composite/utils"
                xmlns:component="http://java.sun.com/jsf/composite/component">

    <ui:define name="resources">   
        <script type="text/javascript">
            
        </script>
        <style>

        </style>
    </ui:define>


    <!--    <ui:define name="left-menu">
           
           
           
        </ui:define>-->

    <ui:define name="content">                
        

        <p:growl id="growl" showDetail="false" life="5000" />
        
        <p:dialog id="dialog" header="Login" widgetVar="dlg" visible="true" resizable="false" draggable="false" position="center,center">
            <h:messages id="msg"/>
            <h:form prependId="false">
            
                <h:panelGrid columns="2" cellpadding="5">
                    <h:outputLabel for="j_username" value="Login" />
                    <p:inputText value="#{loginBean.login}" id="j_username" required="true" label="username" />
                                            
                    <h:outputLabel for="j_password" value="HasÅ‚o" />
                    <p:password value="#{loginBean.password}" id="j_password" required="true" label="password" />
                                            
                    <f:facet name="footer">
                        <p:commandButton id="loginButton" value="Login" update=":growl :msg" 
                                         action="#{loginBean.doLogin}"/>
                    </f:facet>
                </h:panelGrid>
                    
            </h:form>
        </p:dialog>
        

        <script type="text/javascript">
            function handleLoginRequest(xhr, status, args) {
                if(args.validationFailed || !args.loggedIn) {
                    jQuery('#dialog').effect("shake", { times:3 }, 100);
                } else {
                    dlg.hide();
                    jQuery('#loginLink').fadeOut();
                }
            }
        </script>
         
        
    </ui:define>   

</ui:composition>