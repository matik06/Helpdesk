<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui"           
                xmlns:ui="http://java.sun.com/jsf/facelets"
                template="/templates/main.xhtml"

                xmlns:utils="http://java.sun.com/jsf/composite/utils"
                xmlns:component="http://java.sun.com/jsf/composite/component"
                xmlns:sec="http://www.springframework.org/security/tags">

    <ui:define name="resources">   
        <script type="text/javascript">

        </script>
        <style>
            
        </style>
    </ui:define>   
    

    <ui:define name="content">  
        
        <h:form id="mainForm">    
            
            <component:post title="#{taskDetailController.task.title}" date="#{taskDetailController.task.date}" content="#{taskDetailController.task.description}" author="#{taskDetailController.task.author}"/>
        
            <div style="margin-bottom: 70px; margin-top: 15px; width: 100%;">                                
                <p:menubar autoDisplay="false" style="width: 1180px;">  
                    
                    <p:menuitem value="Edytuj" url="#" icon="ui-icon-pencil" />

                    <p:submenu label="Nowy" icon="ui-icon-pencil">  
                        <p:menuitem value="Komentarz" url="#" icon="ui-icon-arrowreturnthick-1-w" />  
                        <p:menuitem value="Plik" url="#" icon="ui-icon-arrowreturnthick-1-e" />  
                    </p:submenu>                                      
                    
                    <sec:authorize access="hasRole('Helpdesk_User')">
                        <p:menuitem value="ZmieÅ„ serwisanta" url="#" icon="ui-icon-pencil"/>
                    </sec:authorize>
                </p:menubar> 
            </div>
            
            
            
        <!-- dynamic="true" cache="true" -->
            <p:tabView  id="tabView" activeIndex="0" dynamic="true" cache="false">       

                <p:tab title="Komentarze" >

                    <p:dataList value="#{taskDetailController.task.notes}" var="comment" id="cars"  
                                paginator="true" rows="5" paginatorPosition="top"
                                paginatorTemplate="{PreviousPageLink} {CurrentPageReport} {NextPageLink} {RowsPerPageDropdown}"  
                                rowsPerPageTemplate="5,10,15" type="none">  
                                     
                            
<!--                        <p:commandButton icon="ui-icon-search" update=":form:carDetail" oncomplete="carDialog.show()" title="View Detail">  
                            <f:setPropertyActionListener value="#{car}" target="#{tableBean.selectedCar}" />  
                        </p:commandButton>  -->
                            
                        <h:outputText value="#{comment.date}, #{comment.content}" style="margin-left:10px" />  
                        <br />  
                    </p:dataList>
                    
                </p:tab>

                <p:tab title="Pliki">                

                </p:tab>                         

                <p:tab title="Logi">                

                </p:tab>                         

            </p:tabView>
        
        </h:form>
        
    </ui:define>   

</ui:composition>